
<!DOCTYPE html>
<html lang="en">
<head>
	<base target="_top">
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	
	<title>Kovar-DÚ</title>
	
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin=""/>
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>
	<script src="https://code.jquery.com/jquery-2.1.1.min.js"></script>

	<style>
		html, body {
			height: 100%;
			margin: 0;
		}
		.leaflet-container {
			height: 400px;
			width: 600px;
			max-width: 100%;
			max-height: 100%;
		}
	</style>

	
</head>
<body>

<div id="map" style="width: 2400px; height: 1600px;"></div>

<script>
	const API_KEY = '5ZtGuQEtvV37xyC_1IJnglc8ZgP53ehgvFqTiHuaFoI';
	const map = L.map('map').setView([49.5926389, 17.2783147], 12);
	
	const ZakladniMapa = L.tileLayer(`https://api.mapy.cz/v1/maptiles/basic/256/{z}/{x}/{y}?apikey=${API_KEY}`, {
		minZoom: 0,
		maxZoom: 19,
		attribution: '<a href="https://api.mapy.cz/copyright" target="_blank">&copy; Seznam.cz a.s. a další</a>',
	});
	const osm = L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
		minZoom: 0,
		maxZoom: 19,
		attribution: '&copy; OpenStreetMap contributors'
	});
	const Zimni = L.tileLayer(`https://api.mapy.cz/v1/maptiles/winter/256/{z}/{x}/{y}?apikey=${API_KEY}`, {
		minZoom: 0,
		maxZoom: 19,
		attribution: '<a href="https://api.mapy.cz/copyright" target="_blank">&copy; Seznam.cz a.s. a další</a>',
	});
	const Letecka = L.tileLayer(`https://api.mapy.cz/v1/maptiles/aerial/256/{z}/{x}/{y}?apikey=${API_KEY}`, {
		minZoom: 0,
		maxZoom: 19,
		attribution: '<a href="https://api.mapy.cz/copyright" target="_blank">&copy; Seznam.cz a.s. a další</a>',
	}).addTo(map);

	var vrstvaZastavky = L.geoJSON(null, {
            onEachFeature: function (feature, layer) {
                layer.bindPopup("Zastávka: " + feature.properties.name);
            },
            pointToLayer: function (feature, latlng) {
                return L.circleMarker(latlng, {
                    radius: 5,
                    color: "red",
                    fillOpacity: 0.8
                });
            }
        });

    var vrstvaLinky = L.geoJSON(null, {
            style: {
                color: "blue",
                weight: 3
            },
            onEachFeature: function (feature, layer) {
                if (feature.properties && feature.properties.name) {
                    layer.bindPopup("Linka: " + feature.properties.name);
                }
            }
        });
        $.getJSON("https://mapy.upol.cz/data/BUS_stops.geojson", function (data) {
            vrstvaZastavky.addData(data);
        });

        $.getJSON("https://mapy.upol.cz/data/BUS_linky.geojson", function (data) {
            vrstvaLinky.addData(data)
			
		});

const baseMaps = {
  "Základní Mapa": ZakladniMapa,
  "OpenStreetMap": osm,
  "Zimní": Zimni,
  "Letecka": Letecka
};

var overlayLayers = {
  "Autobusové zastávky": vrstvaZastavky,
  "Autobusové linky": vrstvaLinky
};

L.control.layers(baseMaps, overlayLayers).addTo(map);


</script>



</body>
</html>
